âœ… Developer Deployment Guide (Precise Version)
ğŸ¯ Objective
This repository automates the deployment of a secure, multi-tenant Cloudera Big Data platform for three telecom clients:

MTN Rwanda

MTN Ghana

Airtel Uganda

The cluster includes:

Cloudera Manager

HDFS, YARN, Hive, Spark

Multi-tenant HDFS directory structure

Isolated YARN queues per client

Secure access policies using Apache Ranger

ğŸ–¥ï¸ Server Infrastructure
You need three Linux servers (Ubuntu 20.04 recommended). Assign static IPs like this:

Server	Role	IP Address
1	Cloudera Manager + Master	157.245.39.216
2	Worker Node 1	38.242.250.17
3	Worker Node 2	45.90.120.29
All servers must be reachable by SSH and have at least:

8 vCPUs

16 GB RAM

100+ GB SSD

ğŸ—‚ï¸ Project Structure
pgsql
Copy
Edit
cloudera-bigdata-infra/
â”‚
â”œâ”€â”€ inventory/
â”‚   â”œâ”€â”€ hosts.ini                 â† Server IPs grouped by role
â”‚   â””â”€â”€ group_vars/
â”‚       â””â”€â”€ all.yml              â† Shared config: cluster name, SSH key path, credentials
â”‚
â”œâ”€â”€ playbooks/
â”‚   â”œâ”€â”€ setup-prereqs.yml        â† Java, SSH, hostname, hosts
â”‚   â”œâ”€â”€ install-cloudera.yml     â† Install Cloudera Manager + agents
â”‚   â”œâ”€â”€ deploy-services.yml      â† Install HDFS, YARN, Hive, Spark
â”‚   â”œâ”€â”€ setup-multitenancy.yml   â† Create tenants, queues, directories, Ranger policies
â”‚   â””â”€â”€ secure-cluster.yml       â† Optional: enable Kerberos + TLS
â”‚
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ cluster-definition.json  â† API-based definition of services to deploy
â”‚   â”œâ”€â”€ yarn-queues.json         â† MTN & Airtel queue structure
â”‚   â””â”€â”€ ranger-policies.json     â† Fine-grained access control
â”‚
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ generate-ssh-keys.sh     â† SSH key automation
â”‚   â””â”€â”€ distribute-hosts.sh      â† Hostname + /etc/hosts setup
â”‚
â”œâ”€â”€ .env.sample                  â† Template for credentials/secrets
â””â”€â”€ README.md                    â† This guide
ğŸ” Credentials & Configs
Edit .env.sample, then rename to .env:

bash
Copy
Edit
CLUSTER_NAME=TelecomCluster
CM_ADMIN_USER=admin
CM_ADMIN_PASSWORD=admin123
SSH_PRIVATE_KEY=~/.ssh/cloudera_id_rsa
SSH_USER=ubuntu
Edit inventory/hosts.ini:

ini
Copy
Edit
[cloudera_manager]
157.245.39.216

[master]
157.245.39.216

[workers]
38.242.250.17
45.90.120.29

[all:vars]
ansible_user=root
âš™ï¸ Step-by-Step Deployment
1. ğŸ”§ Prepare SSH
From your local machine or jump host:

bash
Copy
Edit
bash scripts/hosts-setup.sh
2. ğŸ› ï¸ Run Prerequisites Setup
bash
Copy
Edit
ansible-playbook -i inventory/hosts.ini playbooks/setup-prereqs.yml
Installs Java

Configures hostnames

Syncs /etc/hosts across nodes

Disables swap

3. ğŸ“¦ Install Cloudera Manager + Agents
bash
Copy
Edit
ansible-playbook -i inventory/hosts.ini playbooks/install-cloudera.yml
Installs Cloudera Manager on 157.245.39.216

Installs agents on all nodes

Access the UI at:
http://157.245.39.216:7180
Login with admin / Secure123!

4. ğŸ§  Deploy Hadoop Ecosystem
bash
Copy
Edit
ansible-playbook -i inventory/hosts.ini playbooks/deploy-services.yml
Deploys:

HDFS (with 3x replication)

YARN (ResourceManager on 10.0.0.10)

Hive + Metastore

Spark

Impala (optional)

5. ğŸ¢ Configure Multi-Tenancy
bash
Copy
Edit
ansible-playbook -i inventory/hosts.ini playbooks/setup-multitenancy.yml
Creates:

HDFS directories:

bash
Copy
Edit
/telecoms/mtn-rwanda/
/telecoms/mtn-ghana/
/telecoms/airtel-uganda/
YARN Queues:

json
Copy
Edit
{
  "root": {
    "children": {
      "mtn": {
        "children": {
          "rwanda": { "capacity": "25" },
          "ghana": { "capacity": "25" }
        }
      },
      "airtel": {
        "children": {
          "uganda": { "capacity": "50" }
        }
      }
    }
  }
}
Ranger policies to restrict users to their folders/queues

âœ… End Result
Once all playbooks complete, youâ€™ll have:

Cloudera Manager dashboard (http://10.0.0.10:7180)

HDFS and Hive configured

Spark ready for jobs

MTN and Airtel each have:

Their own queue for YARN jobs

Private HDFS directory

Restricted access using Apache Ranger

You can now run:

Hive queries for CDRs

Spark analytics per tenant

Monitoring through Cloudera Manager

ğŸ§ª (Coming Soon) Sample Workflows
In /samples/, weâ€™ll include:

CDR data for 3 telecoms

Hive DDL scripts to ingest

Spark scripts to compute total calls per tower

ğŸ›  Developer Tasks Checklist
If youâ€™re the assigned developer:

 Clone the repo

 Fill in .env and hosts.ini

 Run setup-prereqs.yml

 Run install-cloudera.yml

 Run deploy-services.yml

 Run setup-multitenancy.yml

 Verify via Cloudera Manager dashboard

 Document anything you change for reuse
