#!/bin/bash

# Source the configuration file
source config/server-config.sh

# Generate the inventory file
cat > inventory/hosts.ini << EOF
# This file is automatically generated from the server-config.sh file
# To change server IPs, edit the config/server-config.sh file and run:
# ./scripts/generate-inventory.sh

[cloudera_manager]
$MASTER_IP

[master]
$MASTER_IP

[workers]
$WORKER1_IP
$WORKER2_IP

[all:vars]
ansible_user=$SSH_USER
EOF

echo "Inventory file generated successfully at inventory/hosts.ini"
